<script type="text/javascript" charset="utf-8">
  $(function () {
    $(document).ready(function() {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });
    
        var chart;
        $('#orders_chart_spline').highcharts({
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function() {
    
                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function() {
                            var x = (new Date()).getTime(), // current time
                                y = Math.random();
                            series.addPoint([x, y], true, true);
                        }, 1000);
                    }
                }
            },
            title: {
                text: 'Live random data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'Value'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function() {
                        return '<b>'+ this.series.name +'</b><br/>'+
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) +'<br/>'+
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'Random data',
                data: (function() {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;
    
                    for (i = -19; i <= 0; i++) {
                        data.push({
                            x: time + i * 1000,
                            y: Math.random()
                        });
                    }
                    return data;
                })()
            }]
        });
    });
    
});
</script>

<div id="orders_chart_spline" style="width:560px; height:300px;"></div>

<script type="text/javascript" charset="utf-8">
  $(function(){
    new Highcharts.Chart({
     chart: {
      renderTo: "orders_chart_basicbar",
      //*********************************************
      type: 'bar'
            },
      title: {
          text: 'Historic World Population by Region'
      },
      subtitle: {
          text: 'Source: Wikipedia.org'
      },
      xAxis: {
          categories: ['Africa', 'America', 'Asia', 'Europe', 'Oceania'],
          title: {
              text: null
          }
      },
      yAxis: {
          min: 0,
          title: {
              text: 'Population (millions)',
              align: 'high'
          },
          labels: {
              overflow: 'justify'
          }
      },
      tooltip: {
          valueSuffix: ' millions'
      },
      plotOptions: {
          bar: {
              dataLabels: {
                  enabled: true
              }
          }
      },
      legend: {
          layout: 'vertical',
          align: 'right',
          verticalAlign: 'top',
          x: -40,
          y: 100,
          floating: true,
          borderWidth: 1,
          backgroundColor: '#FFFFFF',
          shadow: true
      },
      credits: {
          enabled: false
      },
      series: [{
          name: 'Year 1800',
          data: [107, 31, 635, 203, 2]
      }, {
          name: 'Year 1900',
          data: [133, 156, 947, 408, 6]
      }, {
          name: 'Year 2008',
          data: [973, 914, 4054, 732, 34]
         
      }], 
  });
});
    





</script>

<div id="orders_chart_basicbar" style="width:560px; height:300px;"></div>









<script type="text/javascript" charset="utf-8">
  $(function(){
    new Highcharts.Chart({
     chart: {
      renderTo: "orders_chart_piecharts",
      plotBackgroundColor: null,
      plotBorderWidth: null,
      plotShadow: false
   },
   //-------------------------------------------------------------------

      title: {
            text: 'Browser market shares at a specific website, 2010'
        },
        tooltip: {
          pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    color: '#000000',
                    connectorColor: '#000000',
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                }
            }
        },
        series: [{
            type: 'pie',
            name: 'Browser share',
            data: [
                ['Firefox',   45.0],
                ['IE',       26.8],
                {
                    name: 'Chrome',
                    y: 12.8,
                    sliced: true,
                    selected: true
                },
                ['Safari',    8.5],
                ['Opera',     6.2],
                ['Others',   0.7]
            ]
        }]
    });
});
    





</script>

<div id="orders_chart_piecharts" style="width:560px; height:300px;"></div>


<script type="text/javascript" charset="utf-8">
  $(function(){
    new Highcharts.Chart({
     chart: {
      renderTo: "orders_chart"
   },
   //-------------------------------------------------------------------
  title: {
                text: 'Monthly Average Temperature',
                x: -20 //center
            },
            subtitle: {
                text: 'Source: WorldClimate.com',
                x: -20
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Temperature (°C)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '°C'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: 'Tokyo',
                data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
            }, {
                name: 'New York',
                data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
            }, {
                name: 'Berlin',
                data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
            }, {
                name: 'London',
                data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
            }]
        });
    });
    





</script>

<div id="orders_chart" style="width:560px; height:300px;"></div>






<script type="text/javascript" charset="utf-8">
  $(function(){
    new Highcharts.Chart({
     chart: {
      renderTo: "orders_chart_bar"
   },
   title: {
    text: "Orders by Day"
    },
    xAxis: {
      type: "datetime"
  },
  yAxis: {
    title: {
      text: "Dollars"
    }
  },
  series: [{
  //data: [1,2,5,7,3]
  //data: [<%= @orders.first.price %>,<%= @orders.second.price %>,<%= @orders.third.price %>,<%= @orders.last.price %>]
  //data:  <%= Order.pluck(:price) %> 
  //data:  <%= Order.select(:price) %>  
  //pointInterval: <%= 1.day * 1000 %>
  //pointStart: <%= 3.weeks.ago.to_i * 1000 %>
  //data <%= (3.weeks.ago.to_date..Date.today).map { |date| Order.total_on(date).to_f}.inspect %>
  data: [<% a=Order.all 
  a.each do |aa| %>
  
  <%= aa.price %>,
   <% end 
   a.last.price%> ]

}]});});</script>
<div id="orders_chart_bar" style="width:560px; height:300px;"></div>

<h1>Listing orders</h1>

<table>
  <tr>
    <th>Price</th>
    <th>Purchased at</th>
    <th>Shipping</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @orders.each do |order| %>
  <tr>
    <td><%= order.price %></td>
    <td><%= order.purchased_at %></td>
    <td><%= order.shipping %></td>
    <td><%= link_to 'Show', order %></td>
    <td><%= link_to 'Edit', edit_order_path(order) %></td>
    <td><%= link_to 'Destroy', order, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Order', new_order_path %>
